@*@model IEnumerable<AppMorereNovo.Models.GaleriaFoto>*@
@using System.Threading.Tasks;
@using AppMorereNovo.Interface;
@inject IGaleriaRepository galRepository;

@{

    var modelo = galRepository.List();
    ViewData["Title"] = "Galeria";

}

<div class="row" style="max-width:1000px;" margin:0 auto;">
    @*<h6>Escolha a Galeria</h6>*@

    <div class="minha">
        <ul id="nav" style="list-style:none;max-width:1000px;margin:0 auto">
            @{
                var novopath = "";
                var ind = 0;
                @foreach (var item in modelo)
                {
                    if (item.Titulo != novopath)
                    {
                        ind = ind + 1;
                        var indice = ind.ToString();
                        novopath = item.Titulo;
                    <li style="float:left;min-width:80px;">
                        <a href="#" rel=@indice id= @item.Titulo>  @item.Titulo   </a>
                    </li>

                    }
                }
            }

            @*<li style="float:left;min-width:80px;"><a href="#" rel="1">Arrastão </a></li>
            <li style="float:left;min-width:80px;"><a href="#" rel="2">Passado </a></li>*@
        </ul>

    </div>

</div>

<div class="row" style="margin:0 auto;max-width:1200px;">

    <div class="col-md-3" id="meu1">
        <div id="myCarousel1" class="carousel slide" data-ride="carousel" data-interval="6000">
            <ol class="carousel-indicators"></ol>
            <div class="carousel-inner" role="listbox">
            </div>
            
            <a class="left carousel-control" href="#myCarousel1" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Prev</span>
            </a>
            <a class="right carousel-control" href="#myCarousel1" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <div class="col-md-3" id="meu2">
        <div id="myCarousel2" class="carousel slide" data-ride="carousel" data-interval="6000">
            <ol class="carousel-indicators"></ol>
            <div class="carousel-inner" role="listbox">
            </div>
            <a class="left carousel-control" href="#myCarousel2" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Prev</span>
            </a>
            <a class="right carousel-control" href="#myCarousel2" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>

    </div>
    <div class="col-md-3" id="meu3">
        <div id="myCarousel3" class="carousel slide" data-ride="carousel" data-interval="6000">
            <ol class="carousel-indicators"></ol>
            <div class="carousel-inner" role="listbox">
            </div>
            <a class="left carousel-control" href="#myCarousel3" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Prev</span>
            </a>
            <a class="right carousel-control" href="#myCarousel3" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>

    </div>

    <div class="col-md-3" id="meu4">
        <div id="myCarousel4" class="carousel slide" data-ride="carousel" data-interval="6000">
            <ol class="carousel-indicators"></ol>
            <div class="carousel-inner" role="listbox">
            </div>
            <a class="left carousel-control" href="#myCarousel4" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Prev</span>
            </a>
            <a class="right carousel-control" href="#myCarousel4" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>

    </div>

</div>



@section scripts{
    <style>
        .col-md-3 {
            /*max-width: 590px;
            
            max-height: 405px;*/
           width: auto;
            height: auto;
            margin: 0 auto;
            padding-left: 0cm;
            padding-right: 20px;
            padding-top: 20px;
        }
    </style>

<script type="text/javascript">

    jQuery(document).ready(function () {


        $('#nav li a').bind('click', function () {

            //$('#meu1').hide();
            //$('#meu2').hide();
            //$('#meu3').hide();
            //$('#meu4').hide();

            $('#myCarousel1').remove();
            $('#myCarousel2').remove();
            $('#myCarousel3').remove();
            $('#myCarousel4').remove();

            $('#meu1').append('<div id="myCarousel1" class="carousel slide" data-ride="carousel" data-interval="1000">' +
                '<ol class="carousel-indicators"></ol>' +
                '<div class="carousel-inner" role="listbox">' +
                '</div>' +
                '<a class="left carousel-control" href="#myCarousel1" role="button" data-slide="prev">' +
                '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>' +
                '<span class="sr-only">Prev</span>' +
                '</a>' +
                '<a class="right carousel-control" href="#myCarousel1" role="button" data-slide="next">' +
                '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>' +
                '<span class="sr-only">Next</span>' +
                '</a>' +
                '</div>');
            $('#meu2').append('<div id="myCarousel2" class="carousel slide" data-ride="carousel" data-interval="1000">' +
                '<ol class="carousel-indicators"></ol>' +
                '<div class="carousel-inner" role="listbox">' +
                '</div>' +
                '<a class="left carousel-control" href="#myCarousel2" role="button" data-slide="prev">' +
                '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>' +
                '<span class="sr-only">Prev</span>' +
                '</a>' +
                '<a class="right carousel-control" href="#myCarousel2" role="button" data-slide="next">' +
                '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>' +
                '<span class="sr-only">Next</span>' +
                '</a>' +
                '</div>');

            $('#meu3').append('<div id="myCarousel3" class="carousel slide" data-ride="carousel" data-interval="1000">' +
                '<ol class="carousel-indicators"></ol>' +
                '<div class="carousel-inner" role="listbox">' +
                '</div>' +
                '<a class="left carousel-control" href="#myCarousel3" role="button" data-slide="prev">' +
                '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>' +
                '<span class="sr-only">Prev</span>' +
                '</a>' +
                '<a class="right carousel-control" href="#myCarousel3" role="button" data-slide="next">' +
                '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>' +
                '<span class="sr-only">Next</span>' +
                '</a>' +
                '</div>');

            $('#meu4').append('<div id="myCarousel4" class="carousel slide" data-ride="carousel" data-interval="1000">' +
                '<ol class="carousel-indicators"></ol>' +
                '<div class="carousel-inner" role="listbox">' +
                '</div>' +
                '<a class="left carousel-control" href="#myCarousel4" role="button" data-slide="prev">' +
                '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>' +
                '<span class="sr-only">Prev</span>' +
                '</a>' +
                '<a class="right carousel-control" href="#myCarousel4" role="button" data-slide="next">' +
                '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>' +
                '<span class="sr-only">Next</span>' +
                '</a>' +
                '</div>');


            //$('#meu1 .carousel-indicators li').remove();
            //$('#meu1 .carousel-inner div').remove();

            //$('#meu2 .carousel-indicators li').remove();
            //$('#meu2 .carousel-inner div').remove();
            //$('#meu3 .carousel-indicators li').remove();
            //$('#meu3 .carousel-inner div').remove();
            //$('#meu4 .carousel-indicators li').remove();
            //$('#meu4 .carousel-inner div').remove();



            var chave = $(this).attr('rel');

            var MyNames = JSON.parse('@Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(modelo))');

            var tam = MyNames.length;
            var path = $(this).attr('id');
            var num_meu = 1;
            var z = 0;
            var i = 0;
            //var numcarousel = 1;
            for (var y = 0; y < tam; y++) {
            var item = MyNames[y].Titulo;
            if (item != path) {
            continue;
            }
            var imgDir = MyNames[y].Caminho + MyNames[y].Foto;

            if (z == 4)
            { z = 0; num_meu = num_meu + 1; }

            var activo = "active";

            if (z == 0) {

            $('#meu' + num_meu + ' .carousel-indicators').append('<li data-target="#myCarousel' + num_meu + '" data-slide-to="' + z + '" class="active"></li>');
            $('#meu' + num_meu + ' .carousel-inner').append('<div class="item active"><img src="' + imgDir + '" alt="1" class="img-responsive" /></div>');
           
            }
            else {
            $('#meu' + num_meu + ' .carousel-indicators').append('<li data-target="#myCarousel' + num_meu + '" data-slide-to="' + z + '"></li>');
            $('#meu' + num_meu + ' .carousel-inner').append('<div class="item"><img src="' + imgDir + '" alt="' + z + '" class="img-responsive" /></div>');
            }
            z = z + 1;

            }
            for (var num_meu = 1; num_meu < 5; num_meu++) {
                $('#myCarousel' + num_meu + ' .right .carousel-control').click();

            //$('#meu' + num_meu).show();
            }
           // $('.right carousel- control').click();
            });
           $('#nav li a').eq(0).click();
            });

</script>

    @*<script src="~/js/Galeria.js" type="text/javascript"></script>*@


    }



        @*<script type="text/javascript">
            jQuery(document).ready(function () {


                $('#nav li a').bind('click', function () {
                    var chave = $(this).attr('rel');

                     var MyNames = JSON.parse('@Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model))');



                    $('#meu1 .carousel-indicators li').remove();
                    $('#meu1 .carousel-inner div').remove();

                    $('#meu2 .carousel-indicators li').remove();
                    $('#meu2 .carousel-inner div').remove();
                    $('#meu3 .carousel-indicators li').remove();
                    $('#meu3 .carousel-inner div').remove();
                    $('#meu4 .carousel-indicators li').remove();
                    $('#meu4 .carousel-inner div').remove();
                    var path = "arrastao";
                    if (chave == '2') { path = "sitio" }

                    var imgDir = "/SitioOuteiro/img/" + path + "/FOTO0";
                    var num_meu = 1;
                    var num_foto = 1;
                    for (i = 0; i < 4; i++) {
                        for (z = 0; z < 4; z++) {
                            var activo = "active";
                            var zero = 0;
                            if (num_foto > 9)
                            { zero = "" };
                            //z+1
                            var numcarousel = z + 1;
                            if (z == 0) {
                                $('#meu' + num_meu + ' .carousel-indicators').append('<li data-target="#myCarousel' + numcarousel + '" data-slide-to="' + z + '" class="active"></li>');
                                $('#meu' + num_meu + ' .carousel-inner').append('<div class="item active"><img src="' + imgDir + zero + num_foto + '.JPG" alt="1" class="img-responsive" /></div>');
                            }
                            else {
                                $('#meu' + num_meu + ' .carousel-indicators').append('<li data-target="#myCarousel' + numcarousel + '" data-slide-to="' + z + '" ></li>');
                                $('#meu' + num_meu + ' .carousel-inner').append('<div class="item"><img src="' + imgDir + zero + num_foto + '.JPG" alt="1" class="img-responsive" /></div>');
                            }


                            num_foto = num_foto + 1;
                        }
                        num_meu = num_meu + 1;
                    }

                });
                $('#nav li a').eq(0).click();
            });


        </script>*@

@*<script>
            $(function () {
                    $.ajax({
                            dataType: "json",
                            type: "GET",
                            url: "/Home/GetDados",
                            success: function (dados) {
                                    $(dados).each(function (i) {
                                            document.writeln("<p>Nome: " + dados[i].Nome + " | URL: " + dados[i].URL + "</p>")
                                    });
                            }
                    });
            });
</script>*@


